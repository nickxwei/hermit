{{- if .Site.DisqusShortname }}
{{ template "_internal/disqus.html" . }}
{{- end }}

{{- if .Site.Params.valine.enable -}}
    {{- if .Site.Params.valine.visitor }}
    <span id="{{ .URL | relURL }}" class="leancloud_visitors" data-flag-title="{{ .Title }}">
        <span class="post-meta-item-text">Page view </span>
        <span class="leancloud-visitors-count">0</span>
        <p></p>
    </span>
    {{- end}}

    <div id="vcomments"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src='//unpkg.com/valine/dist/Valine.min.js'></script>
    <script type="text/javascript">
    new Valine({
        el: '#vcomments' ,
        appId: '{{ .Site.Params.valine.appId }}',
        appKey: '{{ .Site.Params.valine.appKey }}',
        notify: JSON.parse('{{ .Site.Params.valine.notify }}'),
        verify: JSON.parse('{{ .Site.Params.valine.verify }}'),
        avatar:'{{ .Site.Params.valine.avatar }}', 
        placeholder: '{{ .Site.Params.valine.placeholder }}',
        lang: '{{ .Site.Params.valine.lang}}',
        visitor: JSON.parse('{{ .Site.Params.valine.visitor }}')
    });
    </script>
{{- end }}
